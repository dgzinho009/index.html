<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel Guilda Soberanos FF</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#FFD700">
  <link rel="icon" href="https://i.imgur.com/7pYLORP.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <!-- Adicione os SDKs do Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
  <style>
    /* Estilos base (mantidos do original) */
    :root {
      --gold: #FFD700;
      --dark: #121212;
      --darker: #0a0a0a;
      --blue: #37a6ff;
      --purple: #a259ff;
      --red: #f05454;
      --gradient-gold: linear-gradient(45deg, #FFD700, #FFA500);
      --gradient-blue: linear-gradient(45deg, #37a6ff, #2b6cb0);
      --gradient-purple: linear-gradient(45deg, #a259ff, #6b46c1);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
    }
    
    body {
      background: var(--dark);
      color: white;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }
    
    body.light {
      background: #f5f5f5;
      color: #333;
    }
    
    /* Header styles */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background: rgba(0,0,0,0.5);
      position: relative;
      z-index: 10;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .logo img {
      height: 40px;
      border-radius: 50%;
    }
    
    .logo h1 {
      font-size: 1.4em;
      background: linear-gradient(45deg, var(--gold), #FFA500);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .theme-switch {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
    }
    
    /* Menu styles */
    #menuNav {
      display: flex;
      gap: 15px;
    }
    
    #menuHamburger {
      display: none;
      cursor: pointer;
    }
    
    .menu-btn {
      background: none;
      border: none;
      color: white;
      font-weight: bold;
      font-size: 0.95em;
      cursor: pointer;
      padding: 5px 10px;
      border-radius: 5px;
      transition: all 0.2s;
    }
    
    body.light .menu-btn {
      color: #333;
    }
    
    .menu-btn:hover, .menu-btn.active {
      background: rgba(255,215,0,0.2);
    }
    
    .menu-btn.active {
      color: var(--gold);
    }
    
    /* Main content */
    main {
      padding: 20px;
      position: relative;
      z-index: 5;
    }
    
    .destaque {
      background: rgba(0,0,0,0.3);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border-left: 4px solid var(--gold);
    }
    
    .destaque b {
      color: var(--gold);
    }
    
    /* Cards (abas) */
    .card {
      display: none;
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
      padding: 20px;
      margin-top: 15px;
      animation: fadeIn 0.3s;
    }
    
    .card.active {
      display: block;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* Loader */
    #tab-loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 100;
    }
    
    .loader {
      border: 4px solid rgba(255,215,0,0.3);
      border-top: 4px solid var(--gold);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* Footer */
    footer {
      text-align: center;
      padding: 20px;
      margin-top: 30px;
      background: rgba(0,0,0,0.5);
      font-size: 0.9em;
    }
    
    footer div {
      margin: 5px 0;
    }
    
    /* Background particles */
    #bg-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      pointer-events: none;
    }
    
    /* Toast notification */
    .toast-notification {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      z-index: 100;
      opacity: 0;
      transition: opacity 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .toast-notification.show {
      opacity: 1;
    }
    
    .toast-success {
      border-left: 4px solid #4CAF50;
    }
    
    .toast-error {
      border-left: 4px solid #F44336;
    }
    
    /* Responsive styles */
    @media (max-width: 700px) {
      #menuNav {
        position: fixed;
        top: 70px;
        left: 0;
        width: 100%;
        background: var(--darker);
        flex-direction: column;
        align-items: center;
        padding: 15px 0;
        gap: 10px;
        transform: translateY(-100%);
        transition: transform 0.3s;
        z-index: 20;
      }
      
      #menuNav.open {
        transform: translateY(0);
      }
      
      #menuHamburger {
        display: block;
      }
      
      .menu-btn {
        width: 100%;
        text-align: center;
        padding: 10px;
      }
    }
    
    /* Estilos espec√≠ficos para o Painel ADM */
    .adm-editor {
      width: 100%;
      min-height: 150px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid var(--gold);
      background: rgba(0,0,0,0.3);
      color: white;
      font-family: 'Montserrat', sans-serif;
      margin-bottom: 10px;
    }
    
    .adm-section {
      margin-bottom: 20px;
    }
    
    .adm-section h4 {
      color: var(--gold);
      margin-bottom: 10px;
      border-bottom: 1px solid var(--gold);
      padding-bottom: 5px;
    }
    
    .adm-tabs {
      display: flex;
      margin-bottom: 15px;
      border-bottom: 1px solid var(--gold);
      flex-wrap: wrap;
    }
    
    .adm-tab {
      padding: 8px 15px;
      cursor: pointer;
      color: var(--gold);
      border-bottom: 2px solid transparent;
      transition: all 0.2s;
    }
    
    .adm-tab:hover {
      background: rgba(255,215,0,0.1);
    }
    
    .adm-tab.active {
      border-bottom: 2px solid var(--gold);
      font-weight: bold;
    }
    
    .adm-tab-content {
      display: none;
      padding: 15px 0;
    }
    
    .adm-tab-content.active {
      display: block;
    }
    
    .adm-input {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      border: 1px solid var(--gold);
      background: rgba(0,0,0,0.3);
      color: white;
    }
    
    .adm-btn {
      background: var(--gold);
      color: black;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .adm-btn:hover {
      background: #FFC600;
      transform: translateY(-2px);
    }
    
    .adm-login {
      max-width: 400px;
      margin: 50px auto;
      background: rgba(0,0,0,0.5);
      padding: 30px;
      border-radius: 10px;
      border: 1px solid var(--gold);
    }
    
    .adm-login h3 {
      text-align: center;
      margin-bottom: 20px;
      color: var(--gold);
    }
    
    .adm-login input {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 5px;
      border: 1px solid var(--gold);
      background: rgba(0,0,0,0.3);
      color: white;
    }
    
    .adm-login button {
      width: 100%;
    }
    
    /* Estilos para listas */
    .staff-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    
    .staff-member {
      display: flex;
      align-items: center;
      gap: 10px;
      background: rgba(0,0,0,0.2);
      padding: 10px;
      border-radius: 8px;
      border-left: 3px solid var(--gold);
    }
    
    .staff-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    .staff-info {
      display: flex;
      flex-direction: column;
    }
    
    .staff-name {
      font-weight: bold;
      color: var(--gold);
    }
    
    .staff-role {
      font-size: 0.8em;
      opacity: 0.8;
    }
    
    .ranking-list {
      list-style: none;
    }
    
    .ranking-list li {
      display: flex;
      align-items: center;
      padding: 10px;
      margin-bottom: 8px;
      background: rgba(0,0,0,0.2);
      border-radius: 5px;
      position: relative;
    }
    
    .ranking-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      margin-right: 10px;
      font-weight: bold;
      font-size: 0.9em;
    }
    
    .ranking-bar {
      flex-grow: 1;
      height: 4px;
      background: rgba(255,215,0,0.2);
      margin: 0 10px;
      position: relative;
    }
    
    .ranking-bar::after {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: var(--progress, 100%);
      background: var(--gold);
    }
    
    .medal {
      font-size: 1.2em;
    }
    
    /* Avisos e regras */
    .avisos-list {
      list-style: none;
    }
    
    .avisos-list li {
      padding: 15px;
      background: rgba(255,215,0,0.1);
      border-left: 3px solid var(--gold);
      margin-bottom: 10px;
      border-radius: 5px;
    }
    
    #regras ul {
      list-style: none;
    }
    
    #regras ul li {
      position: relative;
      padding-left: 25px;
      margin-bottom: 15px;
    }
    
    #regras ul li::before {
      content: '‚Ä¢';
      position: absolute;
      left: 0;
      color: var(--gold);
      font-size: 1.5em;
      line-height: 0.8;
    }
    
    /* Formul√°rio de recrutamento */
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    
    .form-group input[type="text"],
    .form-group input[type="number"],
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid var(--gold);
      background: rgba(0,0,0,0.3);
      color: white;
    }
    
    .form-group textarea {
      min-height: 100px;
      resize: vertical;
    }
    
    .checkbox-group {
      margin: 10px 0;
    }
    
    .checkbox-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      cursor: pointer;
    }
    
    .radio-group {
      margin: 10px 0;
    }
    
    .radio-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      cursor: pointer;
    }
    
    .cta-btn {
      display: inline-block;
      background: var(--gold);
      color: black;
      padding: 12px 25px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: bold;
      margin-top: 10px;
      transition: all 0.2s;
    }
    
    .cta-btn:hover {
      background: #FFC600;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    
    #msg-recrutamento {
      display: none;
      background: rgba(255,215,0,0.2);
      padding: 10px;
      border-radius: 5px;
      margin-top: 15px;
      text-align: center;
      border-left: 3px solid var(--gold);
    }
    
    /* Ranking tabs */
    .ranking-tabs {
      display: flex;
      margin-bottom: 15px;
      border-bottom: 1px solid var(--gold);
    }
    
    .ranking-tab-btn {
      padding: 8px 15px;
      cursor: pointer;
      color: var(--gold);
      border-bottom: 2px solid transparent;
      transition: all 0.2s;
    }
    
    .ranking-tab-btn:hover {
      background: rgba(255,215,0,0.1);
    }
    
    .ranking-tab-btn.active {
      border-bottom: 2px solid var(--gold);
      font-weight: bold;
    }
    
    /* Streamers */
    .streamer-card {
      background: rgba(0,0,0,0.2);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      text-align: center;
      border-left: 3px solid var(--gold);
    }
    
    .streamer-card h3 {
      color: var(--gold);
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <!-- Cabe√ßalho -->
  <header>
    <div class="logo">
      <img src="https://i.imgur.com/7pYLORP.png" alt="Logo Soberanos FF">
      <h1>Soberanos FF</h1>
    </div>
    
    <div class="theme-switch" id="modeSwitch">
      <span class="material-symbols-outlined" id="modeIcon">dark_mode</span>
    </div>
    
    <div id="menuHamburger">
      <span class="material-symbols-outlined">menu</span>
    </div>
    
    <nav id="menuNav">
      <button class="menu-btn active" data-tab="melhores"><span class="material-symbols-outlined">military_tech</span> Melhores</button>
      <button class="menu-btn" data-tab="ranking"><span class="material-symbols-outlined">leaderboard</span> Ranking</button>
      <button class="menu-btn" data-tab="staff"><span class="material-symbols-outlined">groups</span> Staff</button>
      <button class="menu-btn" data-tab="regras"><span class="material-symbols-outlined">gavel</span> Regras</button>
      <button class="menu-btn" data-tab="avisos"><span class="material-symbols-outlined">campaign</span> Avisos</button>
      <button class="menu-btn" data-tab="streamers"><span class="material-symbols-outlined">live_tv</span> Streamers</button>
      <button class="menu-btn" data-tab="recrutamento"><span class="material-symbols-outlined">person_add</span> Recrutamento</button>
      <button class="menu-btn" data-tab="adm"><span class="material-symbols-outlined">admin_panel_settings</span> Painel ADM</button>
    </nav>
  </header>
  
  <!-- Conte√∫do principal -->
  <main>
    <div class="destaque">
      <b>DESTAQUE:</b> <span id="destaque-texto">Carregando...</span>
    </div>
    
    <!-- Loader de aba -->
    <div id="tab-loader">
      <div class="loader"></div>
    </div>
    
    <!-- Canvas para part√≠culas de fundo -->
    <canvas id="bg-particles"></canvas>
    
    <!-- Toast notification -->
    <div id="toast" class="toast-notification"></div>
    
    <!-- Abas do painel -->
    <div class="card active" id="melhores">
      <h2><span class="material-symbols-outlined">military_tech</span> Melhores da Semana</h2>
      <ul class="ranking-list" id="melhores-lista">
        <!-- Preenchido dinamicamente -->
      </ul>
    </div>
    
    <div class="card" id="ranking">
      <h2><span class="material-symbols-outlined">leaderboard</span> Ranking</h2>
      
      <div class="ranking-tabs">
        <button class="ranking-tab-btn active" data-rank="semanal">Semanal</button>
        <button class="ranking-tab-btn" data-rank="mensal">Mensal</button>
      </div>
      
      <div id="rankingSemanal">
        <ul class="ranking-list">
          <!-- Preenchido dinamicamente -->
        </ul>
      </div>
      
      <div id="rankingMensal" style="display: none;">
        <ul class="ranking-list">
          <!-- Preenchido dinamicamente -->
        </ul>
      </div>
    </div>
    
    <div class="card" id="staff">
      <h2><span class="material-symbols-outlined">groups</span> Staff da Guilda</h2>
      <div class="staff-list">
        <!-- Preenchido dinamicamente -->
      </div>
    </div>
    
    <div class="card" id="regras">
      <h2><span class="material-symbols-outlined">gavel</span> Regras da Guilda</h2>
      <ul>
        <!-- Preenchido dinamicamente -->
      </ul>
    </div>
    
    <div class="card" id="avisos">
      <h2><span class="material-symbols-outlined">campaign</span> Avisos Importantes</h2>
      <ul class="avisos-list">
        <li>Carregando avisos...</li>
      </ul>
    </div>
    
    <div class="card" id="streamers">
      <h2><span class="material-symbols-outlined">live_tv</span> Streamers da Guilda</h2>
      <div id="streamers-container">
        <!-- Preenchido dinamicamente -->
      </div>
    </div>
    
    <div class="card" id="recrutamento">
      <h2><span class="material-symbols-outlined">person_add</span> Recrutamento</h2>
      
      <div style="text-align: center; margin-bottom: 20px;">
        <p>Quer fazer parte da fam√≠lia Soberanos FF? Preencha o formul√°rio abaixo e envie seu print do perfil!</p>
      </div>
      
      <form id="form-recrutamento">
        <div class="form-group">
          <label for="nick">1. Nick no jogo*</label>
          <input type="text" id="nick" required>
        </div>
        
        <div class="form-group">
          <label for="idff">2. ID do jogador*</label>
          <input type="text" id="idff" required>
        </div>
        
        <div class="form-group">
          <label for="idade">3. Idade*</label>
          <input type="number" id="idade" min="12" max="99" required>
        </div>
        
        <div class="form-group">
          <label for="patente">4. Patente atual*</label>
          <input type="text" id="patente" required>
        </div>
        
        <div class="form-group">
          <label for="guilda_comp">5. J√° fez parte de guilda competitiva?*</label>
          <input type="text" id="guilda_comp" required>
        </div>
        
        <div class="form-group">
          <label>6. Fun√ß√£o principal*</label>
          <div class="radio-group">
            <label><input type="radio" name="funcao" value="Atirador" required> Atirador</label>
            <label><input type="radio" name="funcao" value="Assistente"> Assistente</label>
            <label><input type="radio" name="funcao" value="Sniper"> Sniper</label>
            <label><input type="radio" name="funcao" value="Suporte"> Suporte</label>
            <label><input type="radio" name="funcao" value="Flex√≠vel"> Flex√≠vel</label>
          </div>
        </div>
        
        <div class="form-group">
          <label>7. Disponibilidade para jogar (marque todas que se aplicam)</label>
          <div class="checkbox-group">
            <label><input type="checkbox" name="disp" value="Manh√£"> Manh√£</label>
            <label><input type="checkbox" name="disp" value="Tarde"> Tarde</label>
            <label><input type="checkbox" name="disp" value="Noite"> Noite</label>
            <label><input type="checkbox" name="disp" value="Madrugada"> Madrugada</label>
            <label><input type="checkbox" name="disp" value="Finais de semana"> Finais de semana</label>
          </div>
        </div>
        
        <div class="form-group">
          <label>8. Modo que joga melhor*</label>
          <div class="radio-group">
            <label><input type="radio" name="modo" value="Ranqueada" required> Ranqueada</label>
            <label><input type="radio" name="modo" value="Cl√°ssico"> Cl√°ssico</label>
            <label><input type="radio" name="modo" value="Arena"> Arena</label>
            <label><input type="radio" name="modo" value="Outro"> Outro (especifique)</label>
          </div>
          <input type="text" id="modo_outro" style="display: none; margin-top: 5px;">
        </div>
        
        <div class="form-group">
          <label>9. Troca nick pra guilda?*</label>
          <div class="radio-group">
            <label><input type="radio" name="troca_nick" value="Sim" required> Sim</label>
            <label><input type="radio" name="troca_nick" value="N√£o"> N√£o</label>
            <label><input type="radio" name="troca_nick" value="Talvez"> Talvez</label>
          </div>
        </div>
        
        <div class="form-group">
          <label for="contato">10. Instagram ou WhatsApp*</label>
          <input type="text" id="contato" required>
        </div>
        
        <div class="form-group">
          <label for="motivo">11. Por que quer entrar na guilda Soberanos FF?*</label>
          <textarea id="motivo" required></textarea>
        </div>
        
        <button type="submit" class="cta-btn">Enviar Formul√°rio</button>
        
        <div id="msg-recrutamento"></div>
      </form>
    </div>
    
    <!-- Painel ADM -->
    <div class="card" id="adm">
      <div id="adm-login" class="adm-login">
        <h3><span class="material-symbols-outlined">admin_panel_settings</span> Painel ADM</h3>
        <form id="login-form">
          <input type="text" id="adm-user" placeholder="Usu√°rio ADM" required>
          <input type="password" id="adm-pass" placeholder="Senha" required>
          <button type="submit" class="adm-btn">Entrar</button>
        </form>
      </div>
      
      <div id="adm-panel" style="display: none;">
        <h2><span class="material-symbols-outlined">admin_panel_settings</span> Painel Administrativo</h2>
        
        <div class="adm-tabs">
          <div class="adm-tab active" data-tab="destaques">Destaques</div>
          <div class="adm-tab" data-tab="melhores-adm">Melhores</div>
          <div class="adm-tab" data-tab="staff-adm">Staff</div>
          <div class="adm-tab" data-tab="regras-adm">Regras</div>
          <div class="adm-tab" data-tab="ranking-adm">Ranking</div>
          <div class="adm-tab" data-tab="streamers-adm">Streamers</div>
        </div>
        
        <!-- Conte√∫do das abas do ADM -->
        <div id="destaques-content" class="adm-tab-content active">
          <div class="adm-section">
            <h4>Mensagem de Destaque</h4>
            <textarea id="destaque-msg" class="adm-editor" placeholder="Digite a mensagem de destaque que aparecer√° no topo do painel"></textarea>
          </div>
          
          <div class="adm-section">
            <h4>Status da Guilda</h4>
            <input type="text" id="status-guilda" class="adm-input" placeholder="Ex: Ativo, Em manuten√ß√£o, etc.">
          </div>
        </div>
        
        <div id="melhores-adm-content" class="adm-tab-content">
          <div class="adm-section">
            <h4>Melhores da Semana</h4>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;">
              <div>
                <label for="membro1">1¬∫ Lugar</label>
                <input type="text" id="membro1" class="adm-input">
              </div>
              <div>
                <label for="membro2">2¬∫ Lugar</label>
                <input type="text" id="membro2" class="adm-input">
              </div>
              <div>
                <label for="membro3">3¬∫ Lugar</label>
                <input type="text" id="membro3" class="adm-input">
              </div>
            </div>
          </div>
        </div>
        
        <div id="staff-adm-content" class="adm-tab-content">
          <div class="adm-section">
            <h4>Membros do Staff</h4>
            <p>Formato: {"name": "Nome", "role": "Cargo", "avatar": "URL da imagem"}</p>
            <textarea id="staff-editor" class="adm-editor" placeholder='[{"name":"LK","role":"L√≠der","avatar":"https://..."}]'></textarea>
          </div>
        </div>
        
        <div id="regras-adm-content" class="adm-tab-content">
          <div class="adm-section">
            <h4>Regras da Guilda</h4>
            <p>Uma regra por linha</p>
            <textarea id="regras-editor" class="adm-editor" placeholder="Respeitar todos os membros..."></textarea>
          </div>
        </div>
        
        <div id="ranking-adm-content" class="adm-tab-content">
          <div class="adm-section">
            <h4>Ranking Semanal</h4>
            <p>Um item por linha (formato: Nome - Pontos)</p>
            <textarea id="ranking-semanal-editor" class="adm-editor" placeholder="Jogador1 - 1000 pontos"></textarea>
          </div>
          
          <div class="adm-section">
            <h4>Ranking Mensal</h4>
            <p>Um item por linha (formato: Nome - Pontos)</p>
            <textarea id="ranking-mensal-editor" class="adm-editor" placeholder="Jogador1 - 5000 pontos"></textarea>
          </div>
        </div>
        
        <div id="streamers-adm-content" class="adm-tab-content">
          <div class="adm-section">
            <h4>Streamers da Guilda</h4>
            <p>Formato: {"name": "Nome", "url": "URL da stream"}</p>
            <textarea id="streamers-editor" class="adm-editor" placeholder='[{"name":"Streamer1","url":"https://twitch.tv/streamer1"}]'></textarea>
          </div>
        </div>
        
        <div style="margin-top: 30px; text-align: center;">
          <button id="save-changes" class="adm-btn">Salvar Altera√ß√µes</button>
          <button id="logout-adm" class="adm-btn" style="background: var(--red); margin-left: 10px;">Sair</button>
        </div>
      </div>
    </div>
  </main>
  
  <!-- Rodap√© -->
  <footer>
    <div>¬© 2023 Guilda Soberanos FF - Todos os direitos reservados</div>
    <div>Status: <b id="status-text">Carregando...</b></div>
    <div id="lastUpdate">√öltima atualiza√ß√£o: --/--/---- --:--</div>
  </footer>

  <script>
    // Configura√ß√£o do Firebase com suas credenciais
    const firebaseConfig = {
      apiKey: "AIzaSyD1Vp65vNXknQEzDWtVGAsAyk-WIK0fCeg",
      authDomain: "paineis-soberanos.firebaseapp.com",
      databaseURL: "https://paineis-soberanos-default-rtdb.firebaseio.com",
      projectId: "paineis-soberanos",
      storageBucket: "paineis-soberanos.appspot.com",
      messagingSenderId: "1018061735067",
      appId: "1:1018061735067:web:dac8173cab25faebb6b23e",
      measurementId: "G-5N34CJ1QD7"
    };

    // Inicialize o Firebase
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    const auth = firebase.auth();

    // ========== FUN√á√ïES GERAIS ==========

    // DARK/LIGHT MODE
    function setTheme(light) {
      document.body.classList.toggle('light', !!light);
      document.getElementById('modeIcon').textContent = light ? "light_mode" : "dark_mode";
      localStorage.setItem("theme", light ? "light" : "dark");
    }

    // BACKGROUND PARTICLES
    function runParticles() {
      const c = document.getElementById('bg-particles');
      const ctx = c.getContext('2d');
      let w = window.innerWidth, h = window.innerHeight;
      let particles = [];
      
      function resize() {
        w = window.innerWidth, h = window.innerHeight;
        c.width = w; c.height = h;
      }
      
      window.addEventListener('resize', resize);
      
      function randomColor() {
        const colors = ['#FFD700','#37a6ff','#a259ff','#f05454'];
        return colors[Math.floor(Math.random()*colors.length)];
      }
      
      function spawnParticle() {
        return {
          x: Math.random()*w,
          y: Math.random()*h,
          r: Math.random()*2+1,
          dx: (Math.random()-.5)*.25,
          dy: (Math.random()-.5)*.25,
          a: Math.random()*2*Math.PI,
          color: randomColor(),
        }
      }
      
      for(let i=0;i<60;i++) particles.push(spawnParticle());
      
      function draw() {
        ctx.clearRect(0,0,w,h);
        for(let p of particles) {
          ctx.save();
          ctx.globalAlpha = 0.16;
          ctx.beginPath();
          ctx.arc(p.x,p.y,p.r,0,2*Math.PI);
          ctx.fillStyle = p.color;
          ctx.shadowColor = p.color;
          ctx.shadowBlur = 8;
          ctx.fill();
          ctx.restore();
          p.x += Math.cos(p.a)*p.dx;
          p.y += Math.sin(p.a)*p.dy;
          p.a += (Math.random()-.5)*0.02;
          if(p.x<0) p.x=w;
          if(p.x>w) p.x=0;
          if(p.y<0) p.y=h;
          if(p.y>h) p.y=0;
        }
        requestAnimationFrame(draw);
      }
      
      resize();
      draw();
    }

    // Fun√ß√£o para mostrar notifica√ß√£o
    function showToast(msg, type='success') {
      const toast = document.getElementById('toast');
      toast.textContent = '';
      let icon = (type === 'success') ? '‚úîÔ∏è' : '‚ùå';
      toast.className = `toast-notification toast-${type}`;
      toast.innerHTML = `<span style="font-size:1.35em;">${icon}</span> ${msg}`;
      setTimeout(() => {
        toast.classList.add('show');
        setTimeout(() => {
          toast.classList.remove('show');
        }, 2500);
      }, 80);
    }

    // Converter texto para objeto com chaves √∫nicas
    function convertTextToObject(lines) {
      const obj = {};
      lines.filter(line => line.trim() !== '').forEach((line, index) => {
        obj[`item${index+1}`] = line.trim();
      });
      return obj;
    }

    // Converter array para objeto com chaves √∫nicas
    function convertArrayToObject(array) {
      const obj = {};
      array.forEach((item, index) => {
        obj[`item${index+1}`] = item;
      });
      return obj;
    }

    // ========== FUN√á√ïES DE INTERFACE ==========

    // Troca de abas principal
    function setupTabSwitcher() {
      document.querySelectorAll('.menu-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
          const loader = document.getElementById('tab-loader');
          loader.style.display = "flex";
          setTimeout(()=>{
            loader.style.display = "none";
            document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
            setTimeout(() => {
              document.getElementById(btn.dataset.tab).classList.add('active');
            }, 40);
            if(window.innerWidth <= 700) {
              document.getElementById('menuNav').classList.remove('open');
              document.getElementById('menuHamburger').classList.remove('open');
            }
          }, 400);
        });
      });
    }

    // Menu hamburguer responsivo
    function setupMobileMenu() {
      const menuHamburger = document.getElementById('menuHamburger');
      const menuNav = document.getElementById('menuNav');
      
      menuHamburger.addEventListener('click', function() {
        menuHamburger.classList.toggle('open');
        menuNav.classList.toggle('open');
      });
      
      document.addEventListener('click', function(e) {
        if(window.innerWidth <= 700 && menuNav.classList.contains('open')) {
          if(!menuNav.contains(e.target) && e.target !== menuHamburger) {
            menuNav.classList.remove('open');
            menuHamburger.classList.remove('open');
          }
        }
      });
    }

    // Ranking tabs
    function setupRankingTabs() {
      document.querySelectorAll('.ranking-tab-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.ranking-tab-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          document.getElementById('rankingSemanal').style.display = btn.dataset.rank === 'semanal' ? '' : 'none';
          document.getElementById('rankingMensal').style.display = btn.dataset.rank === 'mensal' ? 'block' : 'none';
        });
      });
    }

    // Formul√°rio de recrutamento
    function setupRecruitmentForm() {
      const formRecrutamento = document.getElementById('form-recrutamento');
      if(!formRecrutamento) return;
      
      // Mostrar/ocultar campo "Outro" para modo de jogo
      document.querySelectorAll('input[name="modo"]').forEach(radio => {
        radio.addEventListener('change', function() {
          document.getElementById('modo_outro').style.display = this.value === 'Outro' ? 'block' : 'none';
          if(this.value !== 'Outro') document.getElementById('modo_outro').value = '';
        });
      });
      
      formRecrutamento.addEventListener('submit', function(e){
        e.preventDefault();
        const nick = document.getElementById('nick').value.trim();
        const idff = document.getElementById('idff').value.trim();
        const idade = document.getElementById('idade').value.trim();
        const patente = document.getElementById('patente').value.trim();
        const guilda_comp = document.getElementById('guilda_comp').value.trim();
        const funcao = formRecrutamento.querySelector('input[name="funcao"]:checked')?.value || '';
        let disp = [];
        formRecrutamento.querySelectorAll('input[name="disp"]:checked').forEach(c => disp.push(c.value));
        const modo = formRecrutamento.querySelector('input[name="modo"]:checked')?.value || '';
        const modoOutro = document.getElementById('modo_outro').value.trim();
        const troca_nick = formRecrutamento.querySelector('input[name="troca_nick"]:checked')?.value || '';
        const contato = document.getElementById('contato').value.trim();
        const motivo = document.getElementById('motivo').value.trim();

        const modo_final = (modo === "Outro" && modoOutro) ? modoOutro : modo;

        if (!nick || !idff || !idade || !patente || !guilda_comp || !funcao || !modo_final || !troca_nick || !contato || !motivo) {
          showToast("Preencha todos os campos obrigat√≥rios!", 'error');
          return;
        }

        const numero = "558173389225";
        const mensagem = 
`Formul√°rio de Recrutamento ‚Äì Guilda Soberanos
Caminhe com reis. Jogue como um soberano. üëë

1. Nick no jogo: ${nick}
2. ID do jogador: ${idff}
3. Idade: ${idade}
4. Patente atual: ${patente}
5. J√° fez parte de guilda competitiva? ${guilda_comp}
6. Fun√ß√£o principal: ${funcao}
7. Disponibilidade: ${disp.length ? disp.join(", ") : "Nenhuma"}
8. Modo que joga melhor: ${modo_final}
9. Troca nick pra guilda? ${troca_nick}
10. Instagram ou WhatsApp: ${contato}
11. Por que quer entrar: ${motivo}

12. Print do perfil: (Anexar aqui no WhatsApp)
`;

        const waLink = `https://wa.me/${numero}?text=${encodeURIComponent(mensagem)}`;
        window.open(waLink, "_blank");
        document.getElementById('msg-recrutamento').style.display = 'block';
        document.getElementById('msg-recrutamento').textContent = "Redirecionando para o WhatsApp... N√£o esque√ßa de anexar o print do perfil!";
        setTimeout(() => {
          document.getElementById('msg-recrutamento').style.display = 'none';
        }, 2500);
        formRecrutamento.reset();
      });
    }

    // ========== FUN√á√ïES DO FIREBASE ==========

    // Estrutura de dados padr√£o
    const defaultData = {
      announcements: "üö® Aviso: Recrutamento aberto! Preencha o formul√°rio e anexe seu print do perfil. Participe da fam√≠lia Soberanos FF!",
      rules: {
        rule1: "Respeitar todos os membros, sem exce√ß√£o.",
        rule2: "Participar dos treinos e eventos sempre que poss√≠vel.",
        rule3: "Proibido uso de cheats, hacks ou qualquer trapa√ßa.",
        rule4: "Mantenha o grupo saud√°vel: sem brigas, sem preconceito.",
        rule5: "Compartilhe resultados dos jogos nos grupos oficiais.",
        rule6: "Novas regras podem ser adicionadas conforme necess√°rio."
      },
      staff: {
        staff1: {name: "LK", role: "L√≠der", avatar: "https://cdn.discordapp.com/attachments/995565123177558066/1374167627978506423/IMG-20250519-WA0191.jpg"},
        staff2: {name: "SS NARUTO", role: "ADM", avatar: "https://cdn.discordapp.com/attachments/995565123177558066/1374147787637391532/IMG-20250519-WA0145.jpg"},
        staff3: {name: "SS GUSTAX", role: "ADM", avatar: "https://cdn.discordapp.com/attachments/995565123177558066/1374147505293496330/IMG-20250519-WA0152.jpg"},
        staff4: {name: "SS MAFIOSO", role: "ADM", avatar: "https://cdn.discordapp.com/attachments/995565123177558066/1374172669909532732/IMG-20250519-WA0197.jpg"}
      },
      weeklyBest: {
        best1: {name: "DEPAY10", position: 1},
        best2: {name: "SS NARUTO", position: 2},
        best3: {name: "GUSTAX.xp‚Å∑", position: 3}
      },
      ranking: {
        semanal: {
          rank1: "Ranking semanal ser√° iniciado em breve!",
          rank2: "Participe das guerras para pontuar"
        },
        mensal: {
          rank1: "Ranking mensal ser√° iniciado em breve!",
          rank2: "Participe das guerras para pontuar"
        }
      },
      streamers: {},
      status: "Ativo"
    };

    // Verifica e cria dados iniciais se necess√°rio
    function initializeDatabase() {
      database.ref('panelData').once('value').then(snapshot => {
        if (!snapshot.exists()) {
          database.ref('panelData').set(defaultData)
            .then(() => console.log("Dados iniciais criados com sucesso!"))
            .catch(error => console.error("Erro ao criar dados iniciais:", error));
        }
      });
    }

    // Atualiza a interface com os dados do Firebase
    function updateUI(data) {
      if (!data) return;
      
      // Atualiza avisos
      if (data.announcements) {
        document.getElementById('destaque-texto').textContent = data.announcements;
        document.querySelector('.destaque b').nextSibling.textContent = ` ${data.announcements} `;
      }
      
      // Atualiza regras
      if (data.rules) {
        const rulesList = document.querySelector('#regras ul');
        rulesList.innerHTML = '';
        Object.values(data.rules).forEach(rule => {
          if (!rule) return;
          const li = document.createElement('li');
          li.textContent = rule;
          li.style.color = "#FFD700";
          li.style.fontWeight = "600";
          li.style.fontSize = "1.08em";
          li.style.marginBottom = "1.4em";
          rulesList.appendChild(li);
        });
      }
      
      // Atualiza staff
      if (data.staff) {
        const staffList = document.querySelector('#staff .staff-list');
        staffList.innerHTML = '';
        Object.values(data.staff).forEach(member => {
          if (!member.name) return;
          const li = document.createElement('li');
          li.className = 'staff-member';
          li.innerHTML = `
            <img class="staff-avatar" src="${member.avatar}" alt="${member.name}" onerror="this.src='https://i.imgur.com/7pYLORP.png'">
            <span class="staff-info">
              <span class="staff-name">${member.name}</span>
              <span class="staff-role">${member.role}</span>
            </span>
          `;
          staffList.appendChild(li);
        });
      }
      
      // Atualiza melhores da semana
      if (data.weeklyBest) {
        const bestList = document.querySelector('#melhores-lista');
        bestList.innerHTML = '';
        Object.values(data.weeklyBest)
          .sort((a, b) => a.position - b.position)
          .forEach((member, index) => {
            if (!member.name) return;
            const medals = ['ü•á', 'ü•à', 'ü•â'];
            const gradients = [
              'var(--gradient-gold)',
              'var(--gradient-blue)',
              'var(--gradient-purple)'
            ];
            const colors = ['', 'var(--blue)', 'var(--purple)'];
            
            const li = document.createElement('li');
            li.innerHTML = `
              <span class="ranking-badge" style="background:${gradients[index] || gradients[0]}">${member.position}¬∫</span>
              ${member.name}
              <span class="ranking-bar"></span>
              <span class="medal" style="color:${colors[index] || ''}">${medals[index] || ''}</span>
            `;
            bestList.appendChild(li);
          });
      }
      
      // Atualiza ranking
      if (data.ranking) {
        if (data.ranking.semanal) {
          const semanalList = document.querySelector('#rankingSemanal ul');
          semanalList.innerHTML = '';
          Object.values(data.ranking.semanal).forEach(item => {
            if (!item) return;
            const li = document.createElement('li');
            li.textContent = item;
            semanalList.appendChild(li);
          });
        }
        
        if (data.ranking.mensal) {
          const mensalList = document.querySelector('#rankingMensal ul');
          mensalList.innerHTML = '';
          Object.values(data.ranking.mensal).forEach(item => {
            if (!item) return;
            const li = document.createElement('li');
            li.textContent = item;
            mensalList.appendChild(li);
          });
        }
      }
      
      // Atualiza streamers
      if (data.streamers) {
        const streamersContainer = document.querySelector('#streamers-container');
        const streamers = Object.values(data.streamers);
        if (streamers.length > 0) {
          streamersContainer.innerHTML = '';
          streamers.forEach(streamer => {
            if (!streamer.name) return;
            const div = document.createElement('div');
            div.className = 'streamer-card';
            div.innerHTML = `
              <h3>${streamer.name}</h3>
              <a href="${streamer.url}" target="_blank" class="cta-btn">Assistir Stream</a>
            `;
            streamersContainer.appendChild(div);
          });
        } else {
          streamersContainer.innerHTML = `
            <div style="text-align: center; padding: 20px;">
              Nenhum Streamer Encontrado.<br>
              <span style="color:#FFD70099; font-size:0.9em;">
                Quando membros da guilda come√ßarem a fazer lives ou v√≠deos, eles aparecer√£o aqui!
              </span>
            </div>
          `;
        }
      }
      
      // Atualiza status
      if (data.status) {
        document.getElementById('status-text').textContent = data.status;
      }
    }

    // Ouvir mudan√ßas no Firebase em tempo real
    function setupRealtimeUpdates() {
      database.ref('panelData').on('value', (snapshot) => {
        const data = snapshot.val();
        updateUI(data);
      });
    }

    // ========== FUN√á√ïES DO PAINEL ADM ==========

    // Configura eventos do painel ADM
    function setupAdminPanel() {
      // Login
      document.getElementById('login-form').addEventListener('submit', handleAdminLogin);
      
      // Logout
      document.getElementById('logout-adm').addEventListener('click', handleAdminLogout);
      
      // Salvar altera√ß√µes
      document.getElementById('save-changes').addEventListener('click', saveAdminChanges);
      
      // Tabs do painel ADM
      document.querySelectorAll('.adm-tab').forEach(tab => {
        tab.addEventListener('click', () => {
          const tabId = tab.dataset.tab;
          switchAdminTab(tabId);
        });
      });
    }

    // Troca de abas no painel ADM
    function switchAdminTab(tabId) {
      document.querySelectorAll('.adm-tab').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.adm-tab-content').forEach(content => content.classList.remove('active'));
      
      document.querySelector(`.adm-tab[data-tab="${tabId}"]`).classList.add('active');
      document.getElementById(`${tabId}-content`).classList.add('active');
    }

    // Login ADM
    function handleAdminLogin(e) {
      e.preventDefault();
      const user = document.getElementById('adm-user').value;
      const pass = document.getElementById('adm-pass').value;
      
      auth.signInWithEmailAndPassword(user + "@soberanosff.com", pass)
        .then(() => {
          document.getElementById('adm-login').style.display = 'none';
          document.getElementById('adm-panel').style.display = 'block';
          loadAdminData();
          showToast("Login realizado com sucesso!", 'success');
        })
        .catch((error) => {
          showToast("Credenciais incorretas!", 'error');
          console.error("Erro de login:", error);
        });
    }

    // Logout ADM
    function handleAdminLogout() {
      auth.signOut().then(() => {
        document.getElementById('adm-login').style.display = 'block';
        document.getElementById('adm-panel').style.display = 'none';
        document.getElementById('adm-user').value = '';
        document.getElementById('adm-pass').value = '';
        showToast("Logout realizado com sucesso!", 'success');
      });
    }

    // Carrega dados no painel ADM
    function loadAdminData() {
      database.ref('panelData').once('value').then(snapshot => {
        const data = snapshot.val() || {};
        
        // Destaques
        document.getElementById('destaque-msg').value = data.announcements || '';
        document.getElementById('status-guilda').value = data.status || '';
        
        // Melhores da semana
        if (data.weeklyBest) {
          const bestList = Object.values(data.weeklyBest).sort((a, b) => a.position - b.position);
          document.getElementById('membro1').value = bestList[0]?.name || '';
          document.getElementById('membro2').value = bestList[1]?.name || '';
          document.getElementById('membro3').value = bestList[2]?.name || '';
        }
        
        // Regras
        if (data.rules) {
          document.getElementById('regras-editor').value = Object.values(data.rules).join('\n');
        }
        
        // Staff
        if (data.staff) {
          document.getElementById('staff-editor').value = JSON.stringify(Object.values(data.staff), null, 2);
        }
        
        // Rankings
        if (data.ranking) {
          if (data.ranking.semanal) {
            document.getElementById('ranking-semanal-editor').value = Object.values(data.ranking.semanal).join('\n');
          }
          if (data.ranking.mensal) {
            document.getElementById('ranking-mensal-editor').value = Object.values(data.ranking.mensal).join('\n');
          }
        }
        
        // Streamers
        if (data.streamers) {
          document.getElementById('streamers-editor').value = JSON.stringify(Object.values(data.streamers), null, 2);
        }
        
        // Ativa a primeira aba
        switchAdminTab('destaques');
      });
    }

    // Salvar altera√ß√µes no Firebase
    function saveAdminChanges() {
      // Validar campos JSON
      try {
        JSON.parse(document.getElementById('staff-editor').value);
        JSON.parse(document.getElementById('streamers-editor').value);
      } catch (e) {
        showToast("Erro no formato JSON (Staff ou Streamers)!", 'error');
        return;
      }
      
      // Coletar todos os dados do formul√°rio
      const updatedData = {
        announcements: document.getElementById('destaque-msg').value,
        status: document.getElementById('status-guilda').value,
        rules: convertTextToObject(document.getElementById('regras-editor').value.split('\n')),
        weeklyBest: {
          best1: {name: document.getElementById('membro1').value, position: 1},
          best2: {name: document.getElementById('membro2').value, position: 2},
          best3: {name: document.getElementById('membro3').value, position: 3}
        },
        staff: convertArrayToObject(JSON.parse(document.getElementById('staff-editor').value)),
        ranking: {
          semanal: convertTextToObject(document.getElementById('ranking-semanal-editor').value.split('\n')),
          mensal: convertTextToObject(document.getElementById('ranking-mensal-editor').value.split('\n'))
        },
        streamers: convertArrayToObject(JSON.parse(document.getElementById('streamers-editor').value))
      };

      // Salvar no Firebase
      database.ref('panelData').set(updatedData)
        .then(() => {
          showToast("Altera√ß√µes salvas com sucesso!", 'success');
          document.getElementById('lastUpdate').textContent =
            "√öltima atualiza√ß√£o: " + new Date().toLocaleString('pt-BR');
        })
        .catch(error => {
          console.error("Erro ao salvar dados:", error);
          showToast("Erro ao salvar altera√ß√µes!", 'error');
        });
    }

    // ========== INICIALIZA√á√ÉO ==========

    // Inicializa o tema
    function initTheme() {
      let t = localStorage.getItem("theme");
      if (t === "light") setTheme(true);
      document.getElementById('modeSwitch').onclick = function() {
        setTheme(!document.body.classList.contains('light'));
      };
    }

    // Inicializa o aplicativo
    function initApp() {
      initTheme();
      runParticles();
      setupTabSwitcher();
      setupMobileMenu();
      setupRankingTabs();
      setupRecruitmentForm();
      setupAdminPanel();
      initializeDatabase();
      setupRealtimeUpdates();
      
      // Atualiza rodap√©
      document.getElementById('lastUpdate').textContent =
        "√öltima atualiza√ß√£o: " + new Date().toLocaleString('pt-BR');
    }

    // Inicia quando o DOM estiver pronto
    document.addEventListener('DOMContentLoaded', initApp);
  </script>
</body>
</html>
